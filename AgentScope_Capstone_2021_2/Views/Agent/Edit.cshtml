@model AgentScope_Capstone_2021_2.Models.AgentAccount

@{
    ViewBag.Title = "Edit";
}

@using (Html.BeginForm("Edit", "Agent", FormMethod.Post, new { enctype = "multipart/form-data" })) {
    @Html.AntiForgeryToken()

    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    @Html.HiddenFor(model => model.Id)
    <section class="box">
        <h2 style="text-align: center; padding-bottom: 12px">Edit Profile</h2>
        <hr style="padding-bottom: 12px" />
        <form>
            <div class="row gtr-uniform gtr-150">
                <div class="form-group col-6">
                    @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control", @placeholder = "Email" } })
                    @Html.ValidationMessageFor(model => model.Email, "", new { @class = "text-danger" })
                </div>
                <div class="col-6"></div>
                <div class="form-group col-4">
                    @Html.EditorFor(model => model.FirstName, new { htmlAttributes = new { @class = "form-control", @placeholder = "First Name" } })
                    @Html.ValidationMessageFor(model => model.FirstName, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-4">
                    @Html.EditorFor(model => model.LastName, new { htmlAttributes = new { @class = "form-control", @placeholder = "Last Name" } })
                    @Html.ValidationMessageFor(model => model.LastName, "", new { @class = "text-danger" })
                </div>
                <div class="col-1"></div>
                <div class="form-group col-3">
                    @Html.EditorFor(model => model.PhoneCell, new { htmlAttributes = new { @class = "form-control", @placeholder = "Cell Phone #" } })
                    @Html.ValidationMessageFor(model => model.PhoneCell, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-9">
                    @Html.EditorFor(model => model.Company, new { htmlAttributes = new { @class = "form-control", @placeholder = "Company" } })
                    @Html.ValidationMessageFor(model => model.Company, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-3">
                    @Html.EditorFor(model => model.PhoneOffice, new { htmlAttributes = new { @class = "form-control", @placeholder = "Office Phone #" } })
                    @Html.ValidationMessageFor(model => model.PhoneOffice, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-2">
                    @Html.EditorFor(model => model.StreetNumber, new { htmlAttributes = new { @class = "form-control", @placeholder = "Street #" } })
                    @Html.ValidationMessageFor(model => model.StreetNumber, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-8">
                    @Html.EditorFor(model => model.StreetName, new { htmlAttributes = new { @class = "form-control", @placeholder = "Street Name" } })
                    @Html.ValidationMessageFor(model => model.StreetName, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-2">
                    @Html.EditorFor(model => model.SuiteNumber, new { htmlAttributes = new { @class = "form-control", @placeholder = "Suite #" } })
                    @Html.ValidationMessageFor(model => model.SuiteNumber, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-5">
                    @Html.EditorFor(model => model.City, new { htmlAttributes = new { @class = "form-control", @placeholder = "City" } })
                    @Html.ValidationMessageFor(model => model.City, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-3">
                    @{
                        var stateList = new List<string>() { "AL", "AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN",
                            "IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH",
                            "OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI", "WY" };
                    }
                    @Html.DropDownListFor(model => model.StateProv, new SelectList(stateList), "Select State", new { htmlAttributes = new { @class = "form-control", @placeholder = "State" } })
                    @Html.ValidationMessageFor(model => model.StateProv, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-3">
                    @Html.EditorFor(model => model.ZipCode, new { htmlAttributes = new { @class = "form-control", @placeholder = "ZipCode" } })
                    @Html.ValidationMessageFor(model => model.ZipCode, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-12">
                    @Html.TextAreaFor(model => model.AboutMeText, 9, 9, new { @class = "form-control", @placeholder = "About You" })
                    @Html.ValidationMessageFor(model => model.AboutMeText, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-3">
                    @Html.EditorFor(model => model.YearsOfExp, new { htmlAttributes = new { @class = "form-control", @placeholder = "Years of Experience" } })
                    @Html.ValidationMessageFor(model => model.YearsOfExp, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-12">
                    @Html.EditorFor(model => model.WebsiteLink, new { htmlAttributes = new { @class = "form-control", @placeholder = "Your Website Link" } })
                    @Html.ValidationMessageFor(model => model.WebsiteLink, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-12">
                    @Html.EditorFor(model => model.FacebookLink, new { htmlAttributes = new { @class = "form-control", @placeholder = "Facebook" } })
                    @Html.ValidationMessageFor(model => model.FacebookLink, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-12">
                    @Html.EditorFor(model => model.TwitterLink, new { htmlAttributes = new { @class = "form-control", @placeholder = "Twitter" } })
                    @Html.ValidationMessageFor(model => model.TwitterLink, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-12">
                    @Html.EditorFor(model => model.InstagramLink, new { htmlAttributes = new { @class = "form-control", @placeholder = "Instagram" } })
                    @Html.ValidationMessageFor(model => model.InstagramLink, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-12">
                    @Html.EditorFor(model => model.LinkedInLink, new { htmlAttributes = new { @class = "form-control", @placeholder = "LinkedIn" } })
                    @Html.ValidationMessageFor(model => model.LinkedInLink, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-8">
                    @Html.EditorFor(model => model.RealEstateLicense, new { htmlAttributes = new { @class = "form-control", @placeholder = "Real Estate License" } })
                    @Html.ValidationMessageFor(model => model.RealEstateLicense, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-4">
                    @Html.DropDownListFor(model => model.LicensedState, new SelectList(stateList), "Licensed State", new { htmlAttributes = new { @class = "form-control" } })
                    @Html.ValidationMessageFor(model => model.LicensedState, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-9">
                    <label for="uploadImage" class="button icon solid fa-download">Select Profile Image</label>
                    <label id="imageName"></label>
                    <input id="uploadImage" name="uploadImage" style="visibility:hidden;" type="file">
                    @Html.ValidationMessageFor(model => model.ProfileImage, "", new { @class = "text-danger" })
                </div>
                <hr class="col-12" />
                <div class="form-group col-6" style="text-align:center; margin-top: -81px">
                    <input type="submit" value="Save" class="btn btn-default" style="width: 320px" />
                </div>
                <div class="form-group col-6" style="text-align:center; margin-top: -81px">
                    @Html.ActionLink("Cancel", "Profile", "Agent", routeValues: null, htmlAttributes: new { @class = "button btn-default", @style = "width: 320px" })
                </div>
            </div>
        </form>
    </section>

}

<script>
    var fn = document.getElementById('uploadImage');
    var text = document.getElementById('imageName');

    fn.addEventListener("change", function () {
        if (fn.value.length) {
            let y = fn.value.split("\\");
            text.innerText = y[y.length - 1];
        }
    }, false)
</script>