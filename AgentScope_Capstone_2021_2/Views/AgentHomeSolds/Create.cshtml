@model AgentScope_Capstone_2021_2.Models.AgentHomeSold

@{
    ViewBag.Title = "Create";
}


@using (Html.BeginForm("Create", "AgentHomeSolds", FormMethod.Post, new { enctype = "multipart/form-data" })) {

    @Html.AntiForgeryToken()

    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
    <section class="box">
        <h2 style="text-align: center; padding-bottom: 12px">Add A New Home</h2>
        <hr style="padding-bottom: 12px" />
        <form>
            <div class="row gtr-uniform gtr-50" style="text-align: center">
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                <div class="form-group col-2">
                    @Html.EditorFor(model => model.StreetNumber, new { htmlAttributes = new { @class = "form-control", @placeholder = "Street #" } })
                    @Html.ValidationMessageFor(model => model.StreetNumber, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-4">
                    @Html.EditorFor(model => model.StreetName, new { htmlAttributes = new { @class = "form-control", @placeholder = "Street Name" } })
                    @Html.ValidationMessageFor(model => model.StreetName, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-4">
                    @Html.EditorFor(model => model.City, new { htmlAttributes = new { @class = "form-control", @placeholder = "City" } })
                    @Html.ValidationMessageFor(model => model.City, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-2">

                    @{
                        var stateList = new List<string>() { "AL", "AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN",
                            "IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH",
                            "OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI", "WY" };
                    }
                    @Html.DropDownListFor(model => model.StateProv, new SelectList(stateList), "Select State", new { htmlAttributes = new { @class = "form-control", @placeholder = "State" } })
                    @Html.ValidationMessageFor(model => model.StateProv, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-2">
                    @Html.EditorFor(model => model.ZipCode, new { htmlAttributes = new { @class = "form-control", @placeholder = "ZipCode" } })
                    @Html.ValidationMessageFor(model => model.ZipCode, "", new { @class = "text-danger" })
                </div>
                <div class="col-12">
                </div>
                <div>
                    <label id="homeLabel">Price Sold</label>
                </div>
                <div class="form-group col-3">
                    @Html.EditorFor(model => model.Price, new { htmlAttributes = new { @class = "form-control", @id = "priceInput", @placeholder = "Price" } })
                    @Html.ValidationMessageFor(model => model.Price, "", new { @class = "text-danger" })
                </div>
                <div>
                    <label id="homeLabel">Date Sold</label>
                </div>
                <div class="form-group col-3">
                    @Html.EditorFor(model => model.DateSold, new { htmlAttributes = new { @class = "form-control", @placeholder = "Date Sold" } })
                    @Html.ValidationMessageFor(model => model.DateSold, "", new { @class = "text-danger" })
                </div>
                <div class="form-group col-4">
                    <label for="uploadImage" class="button icon solid fa-download">Select House Image</label>
                    <label id="imageName"></label>
                    <input id="uploadImage" name="uploadImage" style="visibility:hidden;" type="file">
                    @Html.ValidationMessageFor(model => model.ImageFile, "", new { @class = "text-danger" })
                </div>
                <hr class="col-12" />
                <div class="form-group col-12" style="text-align:center">
                    <input type="submit" value="Add Home" class="btn btn-default" style="width: 320px" />
                </div>
            </div>
        </form>
    </section>


}

<script>
    var fn = document.getElementById('uploadImage');
    var text = document.getElementById('imageName');

    fn.addEventListener("change", function () {
        if (fn.value.length) {
            let y = fn.value.split("\\");
            text.innerText = y[y.length - 1];
        }
    }, false)
</script>